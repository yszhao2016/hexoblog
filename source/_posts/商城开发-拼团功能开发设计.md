---
title: 商城开发-拼团功能开发设计
abbrlink: 701fec33
date: 2024-08-12 15:24:12
tags:
---
# 功能需求描述

    
# 数据库表设计


fa_wanlshop_groups  拼团表

id	int	10	0	0	0	-1	0				ID					0	0	0	0	-1	-1	0
group_no	varchar	32	0	0	0	0	0				拼团号			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
user_id	int	10	0	0	0	0	0			0	团长ID					0	0	0	0	0	0	0
shop_id	int	10	0	0	0	0	0			0	所属商家					0	0	0	0	0	0	0
goods_id	int	10	0	0	0	0	0			0	所属商品					0	0	0	0	0	0	0
group_type	enum	0	0	0	0	0	0		'alone','group','ladder'		拼团类型:alone=直购,group=拼团,ladder=阶梯拼团			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
is_ladder	tinyint	1	0	0	0	0	0			0	是否阶梯拼团					0	0	0	0	0	0	0
ladder_id	int	10	0	0	0	0	0			0	阶梯ID					0	0	0	0	0	0	0
people_num	int	10	0	0	0	0	0			0	成团人数					0	0	0	0	0	0	0
join_num	int	10	0	0	0	0	0			0	参团人数					0	0	0	0	0	0	0
state	enum	0	0	0	0	0	0		'ready','start','success','fail','auto'	'ready'	拼团状态:ready=准备中,start=拼团中,success=已成团,fail=拼团失败,auto=自动成团			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
createtime	int	10	0	-1	0	0	0				开团时间					0	0	0	0	0	0	0
grouptime	int	10	0	-1	0	0	0				成团时间					0	0	0	0	0	0	0
validitytime	int	10	0	-1	0	0	0				有效时间					0	0	0	0	0	0	0
updatetime	int	10	0	-1	0	0	0				更新时间					0	0	0	0	0	0	0
deletetime	int	10	0	-1	0	0	0				删除时间					0	0	0	0	0	0	0
status	enum	0	0	-1	0	0	0		'normal','hidden'	'normal'	状态			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0


fa_wanlshop_groups_goods 拼团商品表

id	int	10	0	0	0	-1	0				ID					0	0	0	0	-1	-1	0
shop_id	int	10	0	-1	0	0	0			0	店铺ID					0	0	0	0	0	-1	0
shop_category_id	varchar	100	0	-1	0	0	0				店铺内类目			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
category_id	int	10	0	0	0	0	0			0	商品类目					0	0	0	0	0	-1	0
brand_id	int	10	0	-1	0	0	0			0	品牌ID					0	0	0	0	0	-1	0
category_attribute	longtext	0	0	-1	0	0	0				类目属性			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
title	varchar	100	0	0	0	0	0				商品标题			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
image	varchar	100	0	0	0	0	0				商品主图			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
images	varchar	1500	0	0	0	0	0				产品相册			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
description	varchar	255	0	0	0	0	0				商品描述			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
is_alone	tinyint	1	0	0	0	0	0			1	是否显示单购是:0=否,1=是					0	0	0	0	0	0	0
people_num	int	3	0	-1	0	0	0			0	组团人数					0	0	0	0	0	0	0
groups_num	int	3	0	-1	0	0	0			0	成团人数					0	0	0	0	0	0	0
is_ladder	tinyint	1	0	0	0	0	0			0	开启阶梯团:0=否,1=是					0	0	0	0	0	0	0
group_hour	int	10	0	0	0	0	0			24	组团限时(小时)					0	0	0	0	0	0	0
purchase_limit	int	6	0	0	0	0	0			0	个人购买次数限制，默认是0，没有次数限制					0	0	0	0	0	0	0
is_discount	tinyint	1	0	0	0	0	0			0	是否显示团长优惠是:0=否,1=是					0	0	0	0	0	0	0
discount_type	tinyint	1	0	0	0	0	0			0	团长优惠类型:0=金额,1=百分百					0	0	0	0	0	0	0
discount	float	10	2	-1	0	0	0			0.00	优惠金额/折扣					0	0	0	0	0	0	0
flag	set	0	0	0	0	0	0		'hot','index','recommend'		标志(多选):hot=热门,index=首页,recommend=推荐			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
stock	enum	0	0	0	0	0	0		'porder','payment'	'porder'	库存计算方式:porder=下单减库存,payment=付款减库存			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
content	longtext	0	0	0	0	0	0				商品详情			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
freight_id	int	10	0	0	0	0	0			0	运费模板					0	0	0	0	0	-1	0
grounding	tinyint	1	0	0	0	0	0			0	上架状态					0	0	0	0	0	0	0
specs	enum	0	0	0	0	0	0		'single','multi'	'single'	商品规格:single=单规格,multi=多规格			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
distribution	enum	0	0	0	0	0	0		'true','false'	'false'	是否独立分销:true=开启,false=关闭			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
activity	enum	0	0	0	0	0	0		'true','false'	'false'	是否活动中:true=是,false=否			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
views	int	10	0	0	0	0	0			0	点击					0	0	0	0	0	-1	0
price	decimal	10	2	-1	0	0	0			0.00	产品价格					0	0	0	0	0	0	0
sales	int	10	0	0	0	0	0			0	销量					0	0	0	0	0	-1	0
payment	int	10	0	0	0	0	0			0	付款人数					0	0	0	0	0	-1	0
comment	int	10	0	0	0	0	0			0	评论					0	0	0	0	0	-1	0
praise	int	10	0	0	0	0	0			0	好评					0	0	0	0	0	-1	0
moderate	int	10	0	0	0	0	0			0	中评					0	0	0	0	0	-1	0
negative	int	10	0	0	0	0	0			0	差评					0	0	0	0	0	-1	0
like	int	10	0	0	0	0	0			0	收藏					0	0	0	0	0	-1	0
weigh	int	10	0	0	0	0	0			0	权重					0	0	0	0	0	0	0
createtime	int	10	0	-1	0	0	0				创建时间					0	0	0	0	0	0	0
updatetime	int	10	0	-1	0	0	0				更新时间					0	0	0	0	0	0	0
deletetime	int	10	0	-1	0	0	0				删除时间					0	0	0	0	0	0	0
status	enum	0	0	-1	0	0	0		'normal','hidden'	'normal'	状态			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0


fa_wanlshop_groups_team  拼团记录表

id	int	10	0	0	0	-1	0				ID					0	0	0	0	-1	-1	0
group_no	varchar	32	0	0	0	0	0				拼团号			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
user_id	int	10	0	0	0	0	0			0	用户ID					0	0	0	0	0	0	0
shop_id	int	10	0	0	0	0	0			0	所属商家ID					0	0	0	0	0	0	0
order_id	int	10	0	0	0	0	0			0	订单ID					0	0	0	0	0	0	0
order_goods_id	int	10	0	0	0	0	0			0	订单商品ID					0	0	0	0	0	0	0
username	varchar	32	0	-1	0	0	0				快递号			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
nickname	varchar	50	0	-1	0	0	0				快递号			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
avatar	varchar	255	0	-1	0	0	0				快递号			utf8mb4	utf8mb4_unicode_ci	0	0	0	0	0	0	0
createtime	int	10	0	-1	0	0	0				参团时间					0	0	0	0	0	0	0
updatetime	int	10	0	-1	0	0	0				更新时间					0	0	0	0	0	0	0
deletetime	int	10	0	-1	0	0	0				删除时间					0	0	0	0	0	0	0
